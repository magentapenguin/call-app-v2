<!DOCTYPE html>
<html lang="en" class="bg-gray-100 text-black dark:bg-gray-900 dark:text-white font-sans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call App V2</title>
    <link rel="stylesheet" href="css/styles.tailwind.css">
    <script src="https://kit.fontawesome.com/4e3543c5e6.js" crossorigin="anonymous"></script>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>

<body class="flex flex-col h-screen">
    <main class="container mx-auto p-4 flex-1">
        <noscript>
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded dark:bg-red-950 dark:border-red-600 dark:text-white mb-4"
                role="alert">
                <strong class="font-bold">Enable JavaScript!</strong>
                <span class="block sm:inline">This app requires JavaScript to work.</span>
            </div>
        </noscript>
        <h1 class="text-4xl font-bold">
            Call App <span class="fancy-title">V2</span>
        </h1>
        <div class="flex mt-4 gap-1 justify-stretch" id="login">
            <label for="username" class="self-center">Username:</label>
            <input type="text" id="username" placeholder="Username" class="input px-2">
            <button class="btn m-0 px-2" id="connect">Connect</button>
        </div>
        <div id="app" hidden>
            <button class="btn" id="disconnect">Disconnect</button>
            <p class="mt-2 ml-1">You are connected as
                <strong class="bg-gray-600 dark:bg-gray-800 text-white rounded p-1"><span id="user">
                    </span>
                    <button title="Copy ID" id="copy" class="cursor-pointer disabled:cursor-not-allowed">
                        <span id="copy-icon"><i class="fa-solid fa-copy" id="copy-icon"></i></span>
                        <span class="text-green-600 hidden" id="copy-success"><i class="fa-solid fa-check"></i></span>
                        <span class="text-red-600 hidden" id="copy-error"><i class="fa-solid fa-xmark"></i></span>
                    </button>
                </strong>
            </p>
            <!-- Connection -->
            <div class="flex gap-1 mt-2" id="connection">
                <label for="peer-id" class="self-center">Peer ID:</label>
                <input type="text" id="peer-id" placeholder="Peer ID" class="input px-2">
                <button class="btn m-0 px-2" id="call">Call</button>
                <button class="btn m-0 px-2 btn-red" id="hangup">Hang Up</button>
            </div>
            <div class="video-grid" id="video-grid">
                <div class="video-container">
                    <video autoplay playsinline muted disablepictureinpicture id="local-video"></video>
                    <p>Local Video</p>
                </div>
                <!-- Remote Videos go here -->
            </div>
        </div>
    </main>

    <div class="flex flex-col gap-2 fixed bottom-0 left-0 p-2" id="toast-container"></div>

    <footer class="w-[100%] block text-center mb-2">
        Made with <i class="fa-solid fa-heart text-red-500 hover:scale-120 transition-transform"></i> by <a
            href="https://github.com/magentapenguin" class="text-blue-500 hover:text-blue-400">magentapenguin</a>
        and 
        <a href="https://github.com/features/copilot"
            class="text-indigo-800 dark:text-indigo-400 hover:text-indigo-600"><i class="fa-solid fa-stars"></i>GitHub
            Copilot</a>
    </footer>
    <script src="main.ts" type="module"></script>
</body>

</html>
